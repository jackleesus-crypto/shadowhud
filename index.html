<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ShadowHUD v13.3</title>

  <!-- Service worker hot-fix: always unregister old SW & clear caches -->
  <script>
  (function () {
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(r => r.unregister()));
    }
    if (window.caches) {
      caches.keys().then(keys => keys.forEach(k => caches.delete(k)));
    }
  })();
  </script>

  <link rel="stylesheet" href="style.css?v=1336">
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <span class="title">ShadowHUD <span class="version">v13.3</span></span>
    </div>
    <div class="gold"><span class="coin">ü™ô</span><span id="goldAmount">0</span></div>
  </header>

  <nav class="tabs">
    <button class="tab active" data-tab="quest">Quest</button>
    <button class="tab" data-tab="journey">Journey</button>
    <button class="tab" data-tab="character">Character</button>
    <button class="tab" data-tab="store">Store</button>
    <button class="tab" data-tab="focus">Focus</button>
  </nav>

  <main class="screens">
    <section id="screen-quest" class="screen visible">
      <h2>Quests</h2>
      <div class="filters">
        <button class="pill filter active" data-filter="all">All</button>
        <button class="pill filter" data-filter="daily">Daily</button>
        <button class="pill filter" data-filter="penalty">Penalty</button>
        <button class="pill filter" data-filter="active">Active</button>
        <button class="pill filter" data-filter="done">Done</button>
        <button id="addQuestBtn" class="fab mini">+</button>
      </div>
      <div id="questList" class="list"></div>
    </section>

    <section id="screen-journey" class="screen">
      <h2>Journey</h2>
      <div class="journey-cards">
        <div class="card compact">
          <div class="card-title">Progress</div>
          <div id="progressSummary" class="rowy"></div>
        </div>
        <div class="card">
          <div class="card-title">Titles</div>
          <div class="rowy"><span>Equipped:</span> <strong id="equippedTitle">None</strong></div>
          <div id="titleList" class="chips"></div>
        </div>
        <div class="card">
          <div class="card-title">Achievements</div>
          <ul id="achievements" class="ach-list"></ul>
        </div>
      </div>
    </section>

    <section id="screen-character" class="screen">
      <h2>Character</h2>
      <div class="rowy bar">
        <div><span class="badge">‚≠ê</span> <span>Unspent AP:</span> <strong id="apCount">0</strong></div>
      </div>
      <div class="card">
        <div id="radar" class="radar-wrap"></div>
      </div>
      <div id="attributes" class="attr-grid"></div>
    </section>

    <section id="screen-store" class="screen">
      <h2>Store</h2>
      <div id="storeList" class="list"></div>
      <div class="card">
        <div class="card-title">New Reward</div>
        <div class="form">
          <input id="rewardTitle" placeholder="Title"/>
          <input id="rewardCost" type="number" placeholder="Cost (gold)" value="50" min="0"/>
          <button id="saveReward" class="btn primary">Save</button>
        </div>
      </div>
    </section>

    <section id="screen-focus" class="screen">
      <h2>Focus</h2>
      <div class="card focus">
        <label>Minutes</label>
        <input id="focusMinutes" type="number" min="1" value="25"/>
        <div id="focusTime" class="big">25:00</div>
        <div class="actions">
          <button id="focusStart" class="btn primary">Start</button>
          <button id="focusPause" class="btn">Pause</button>
          <button id="focusResume" class="btn">Resume</button>
          <button id="focusCancel" class="btn danger">Cancel</button>
        </div>
      </div>
    </section>
  </main>

  <template id="questCardTmpl">
    <div class="card quest">
      <div class="rowy head">
        <div class="qtitle"></div>
        <div class="reward">+<span class="xp"></span> XP ‚Ä¢ <span class="gold"></span></div>
      </div>
      <div class="chips rowy tags"></div>
      <div class="reset">resets in <span class="countdown">00:00:00</span></div>
      <div class="qcontent"></div>
      <div class="actions rowy wrap"></div>
    </div>
  </template>

  <script defer src="app.js?v=1336"></script>
</body>
</html>
