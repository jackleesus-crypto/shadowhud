<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>ShadowHUD</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <meta name="theme-color" content="#0b0b0f">
</head>
<body>
  <header class="topbar">
    <div class="title">ShadowHUD <span class="ver">v13</span></div>
    <div class="wallet" id="goldDisplay">ðŸ’° 0</div>
  </header>

  <main id="view"></main>

  <nav class="tabbar">
    <button data-tab="quests" class="active">Quest</button>
    <button data-tab="journey">Journey</button>
    <button data-tab="character">Character</button>
    <button data-tab="store">Store</button>
    <button data-tab="focus">Focus</button>
  </nav>

  <button class="fab" id="fab">ï¼‹</button>

  <template id="quests_tpl">
    <section class="section">
      <h2>Quests</h2>
      <div class="chips">
        <button data-filter="all" class="chip active">All</button>
        <button data-filter="daily" class="chip">Daily</button>
        <button data-filter="penalty" class="chip">Penalty</button>
        <button data-filter="active" class="chip">Active</button>
        <button data-filter="done" class="chip">Done</button>
        <button data-filter="expired" class="chip">Expired</button>
      </div>
      <div id="questList"></div>
    </section>

    <dialog id="questEdit">
      <form method="dialog" class="card pad">
        <h3 id="qeTitle">New/Edit Quest</h3>
        <label>Title<input id="qTitle"></label>
        <label>Description<input id="qDesc" placeholder="Optional"></label>
        <div class="row">
          <label>Attributes (comma)<input id="qAttrs" placeholder="Physical,Intellect"></label>
          <label>Type
            <select id="qType">
              <option value="counter">Counter</option>
              <option value="timer">Timer</option>
              <option value="checklist">Checklist</option>
              <option value="multi">Multi-counter</option>
            </select>
          </label>
        </div>
        <div class="row">
          <label>Duration (minutes)<input id="qDuration" type="number" value="25"></label>
          <label>Target Count<input id="qTarget" type="number" value="10"></label>
        </div>
        <label>Checklist (comma separated)<input id="qChecklist" placeholder="Warm up, Run 2km, Stretch"></label>
        <label>Multi-counter items (label:target, comma)<input id="qMulti" placeholder="Pushups:100, Sit-ups:100"></label>
        <div class="row">
          <label>Difficulty
            <select id="qDiff">
              <option>Easy</option>
              <option selected>Normal</option>
              <option>Hard</option>
              <option>Elite</option>
            </select>
          </label>
          <label>Deadline (optional)<input id="qDeadline" type="datetime-local"></label>
        </div>
        <div class="row">
          <label>Repeat
            <select id="qRepeat">
              <option value="none" selected>None</option>
              <option value="daily">Daily</option>
              <option value="weekly">Weekly</option>
            </select>
          </label>
          <label>Base Reward XP<input id="qXP" type="number" value="25"></label>
        </div>
        <div class="row">
          <label>Reminder times (HH:MM, comma)<input id="qReminders" placeholder="07:00, 12:30, 20:00"></label>
          <label>Notify before deadline (minutes)<input id="qBefore" type="number" value="10"></label>
        </div>
        <menu class="dialog-actions">
          <button id="qeSave" class="primary" value="save">Save</button>
          <button value="cancel">Cancel</button>
        </menu>
      </form>
    </dialog>
  </template>

  <template id="journey_tpl">
    <section class="section">
      <h2>Journey</h2>
      <div class="card">
        <div class="row between">
          <div><strong id="jrLevel">Level 1 Â· E</strong></div>
          <div id="jrXP">0/0 XP</div>
        </div>
        <div class="progress"><div id="jrBar"></div></div>
        <div class="row stats">
          <div><span id="jrCompleted">0</span><small>Completed</small></div>
          <div><span id="jrStreak">0</span><small>Streak</small></div>
          <div><span id="jrGold">0</span><small>Gold</small></div>
        </div>
      </div>

      <div class="card pad">
        <h3>Titles</h3>
        <div id="titleList"></div>
      </div>

      <div class="card pad">
        <h3>Achievements</h3>
        <ul id="achievements"></ul>
      </div>
    </section>
  </template>

  <template id="character_tpl">
    <section class="section">
      <h2>Character</h2>
      <div class="card hero">
        <div class="rank">E</div>
        <div class="lvl">
          <div id="chLevel">Level 1</div>
          <div class="small" id="chRank">Rank E</div>
        </div>
        <div class="xp">
          <div class="progress"><div id="chBar"></div></div>
          <div class="small" id="chXP">0/0 XP</div>
        </div>
      </div>

      <div class="card pad">
        <h3>Attributes</h3>
        <p class="muted">Attributes increase by completing attributed quests.</p>
        <div class="grid attrgrid">
          <div class="attr"><div id="aPhysical">0</div><small>PHYSICAL</small></div>
          <div class="attr"><div id="aPsyche">0</div><small>PSYCHE</small></div>
          <div class="attr"><div id="aIntellect">0</div><small>INTELLECT</small></div>
          <div class="attr"><div id="aSocial">0</div><small>SOCIAL</small></div>
          <div class="attr"><div id="aSpiritual">0</div><small>SPIRITUAL</small></div>
          <div class="attr"><div id="aFinancial">0</div><small>FINANCIAL</small></div>
        </div>
        <canvas id="radar" width="600" height="480"></canvas>
      </div>
    </section>
  </template>

  <template id="store_tpl">
    <section class="section">
      <h2>Store</h2>
      <div class="card">
        <div class="row between"><strong>Gold</strong> <strong id="storeGold">0</strong></div>
      </div>
      <div id="rewards"></div>
      <div class="card pad">
        <h3>New Reward</h3>
        <label>Title<input id="rTitle"></label>
        <label>Description<input id="rDesc" placeholder="Optional"></label>
        <label>Cost (Gold)<input id="rCost" type="number" value="50"></label>
        <div class="row end"><button id="rSave" class="primary">Save</button></div>
      </div>
    </section>
  </template>

  <template id="focus_tpl">
    <section class="section">
      <h2>Focus</h2>
      <div class="card pad">
        <label>Focus length (minutes)<input id="fMinutes" type="number" value="25"></label>
        <div id="fTime" class="big">25:00</div>
        <div class="row">
          <button id="fStart" class="primary">Start</button>
          <button id="fPause">Pause</button>
          <button id="fResume">Resume</button>
          <button id="fCancel">Cancel</button>
        </div>
        <p class="muted">Simple timer only; app remains usable.</p>
      </div>
    </section>
  </template>

  <script src="app.js"></script>
</body>
</html>
