<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ShadowHUD</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
<header class="topbar">
  <div class="brand">ShadowHUD <span id="ver">v13</span></div>
  <div class="coins" title="Gold"><span>ðŸ’°</span><span id="gold">0</span></div>
</header>

<nav class="tabs">
  <button data-tab="quest" class="active">Quest</button>
  <button data-tab="journey">Journey</button>
  <button data-tab="character">Character</button>
  <button data-tab="store">Store</button>
  <button data-tab="focus">Focus</button>
</nav>

<main>
  <!-- Quest -->
  <section id="quest" class="tab active">
    <div class="panel">
      <div class="row space-between">
        <h2>Quests</h2>
        <div class="pill" id="midnight">resets in --:--:--</div>
      </div>
      <div class="filters">
        <button data-filter="all" class="chip active">All</button>
        <button data-filter="daily" class="chip">Daily</button>
        <button data-filter="penalty" class="chip">Penalty</button>
        <button data-filter="active" class="chip">Active</button>
        <button data-filter="done" class="chip">Done</button>
      </div>
      <div id="questList"></div>
      <button id="addQuest" class="fab" title="New quest">ï¼‹</button>
    </div>

    <dialog id="questDialog">
      <form method="dialog" id="questForm">
        <h3 id="qdTitle">New Quest</h3>
        <label>Title<input required name="title"/></label>
        <label>Description<input name="desc" placeholder="Optional"/></label>
        <label>Type
          <select name="type">
            <option value="timer">Timer</option>
            <option value="counter">Counter</option>
            <option value="checklist">Checklist</option>
            <option value="multiCounter">Multi-counter</option>
          </select>
        </label>
        <label class="if timer">Duration (minutes)<input name="minutes" type="number" min="1" value="25"/></label>
        <label class="if counter">Target Count<input name="target" type="number" min="1" value="10"/></label>
        <label class="if checklist">Checklist (comma separated)<input name="checklist" placeholder="Warm up, Run 2km, Stretch"/></label>
        <label class="if multiCounter">Multi-counter (label:target, comma separated)<input name="multi" placeholder="Pushups:100, Sit-ups:100, Squats:100, Run(miles):1"/></label>
        <label>Difficulty
          <select name="diff">
            <option>Easy</option><option>Normal</option><option>Hard</option><option>Elite</option>
          </select>
        </label>
        <label>Attributes (comma separated)
          <input name="attribs" placeholder="Physical, Intellect"/>
        </label>
        <label><input type="checkbox" name="daily" checked/> Daily quest</label>
        <label>Base Reward XP <input name="xp" type="number" min="1" value="25"/></label>
        <label>Gold <input name="gold" type="number" min="0" value="10"/></label>
        <menu>
          <button value="cancel" class="btn ghost">Cancel</button>
          <button value="ok" class="btn">Save</button>
        </menu>
      </form>
    </dialog>
  </section>

  <!-- Journey -->
  <section id="journey" class="tab">
    <div class="panel">
      <h2>Journey</h2>
      <div class="journeyCard">
        <div class="levelRow"><span id="jLevel">Level 1 Â· E</span><span id="jXP">0/0 XP</span></div>
        <div class="progress"><div id="jBar"></div></div>
        <div class="miniStats">
          <div><div class="label">Completed</div><div id="jCompleted">0</div></div>
          <div><div class="label">Streak</div><div id="jStreak">0</div></div>
          <div><div class="label">Gold</div><div id="jGold">0</div></div>
        </div>
      </div>

      <h3>Titles</h3>
      <div id="titles"></div>

      <h3>Achievements</h3>
      <ul id="achievements" class="achList"></ul>
    </div>
  </section>

  <!-- Character -->
  <section id="character" class="tab">
    <div class="panel">
      <div class="row space-between">
        <h2>Character</h2>
        <div class="pill" id="equippedTitle">Title: None</div>
      </div>
      <div class="card hero">
        <div class="rankIcon" id="rankBadge">E</div>
        <div class="heroBody">
          <div class="heroLevel">Level <span id="level">1</span></div>
          <div class="sub">Rank <span id="rank">E</span></div>
          <div class="bar"><div id="xpBar"></div></div>
          <div class="barText"><span id="xpText">0/0 XP</span></div>
        </div>
      </div>

      <h3>Attributes</h3>
      <p class="sub">Attributes increase only by completing quests.</p>
      <div id="attrs" class="attrGrid"></div>

      <canvas id="radar" width="320" height="280"></canvas>
    </div>
  </section>

  <!-- Store -->
  <section id="store" class="tab">
    <div class="panel">
      <h2>Store</h2>
      <div class="sub">Add your own rewards and redeem with gold.</div>
      <div id="rewards"></div>
      <details class="card">
        <summary>+ New Reward</summary>
        <label>Title<input id="rwTitle"/></label>
        <label>Description<input id="rwDesc"/></label>
        <label>Cost (Gold)<input id="rwCost" type="number" min="1" value="50"/></label>
        <div class="row right"><button id="saveReward" class="btn">Save Reward</button></div>
      </details>
    </div>
  </section>

  <!-- Focus -->
  <section id="focus" class="tab">
    <div class="panel">
      <h2>Focus</h2>
      <div class="card focusCard">
        <label>Focus length (minutes) <input id="focusMin" type="number" min="1" value="25"/></label>
        <div class="focusTimer" id="focusTime">0:00</div>
        <div class="row">
          <button id="focusStart" class="btn">Start</button>
          <button id="focusPause" class="btn ghost">Pause</button>
          <button id="focusResume" class="btn ghost">Resume</button>
          <button id="focusCancel" class="btn ghost">Cancel</button>
        </div>
        <div class="sub">Simple timer. App stays usable.</div>
      </div>
    </div>
  </section>
</main>

<footer class="safe"></footer>
<script src="app.js"></script>
</body>
</html>
